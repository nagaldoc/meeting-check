<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¯¸íŒ… ì…ì¥: ì†Œë¦¬ í™•ì¸</title>
    <style>
        /* [ì–´ë¥´ì‹ ë“¤ì„ ìœ„í•œ ê³ ëŒ€ë¹„ ìŠ¤íƒ€ì¼ë§] */
        body { 
            text-align: center; margin: 0; padding: 0; 
            background-color: #000000; color: white; 
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            min-height: 100vh; 
            display: flex; flex-direction: column; 
            align-items: center; justify-content: center;
        }

        /* 1ë‹¨ê³„: ìµœì´ˆ í„°ì¹˜ ìœ ë„ í™”ë©´ (ì „ì²´ í™”ë©´ ë®ê°œ) */
        #step-1-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #2c3e50;
            display: flex; flex-direction: column; 
            align-items: center; justify-content: center;
            z-index: 999; cursor: pointer;
        }
        
        /* 2ë‹¨ê³„: ë©”ì¸ ì»¨í…ì¸  (ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ ìƒíƒœ) */
        #step-2-content { 
            display: none; 
            width: 90%; max-width: 600px; 
            padding: 40px 0; 
        }

        h1 { color: #ffeb3b; font-size: 2.2rem; margin-bottom: 10px; line-height: 1.3; }
        p { font-size: 1.3rem; line-height: 1.5; margin-bottom: 0; word-break: keep-all; }
        
        .highlight { color: #ff5722; font-weight: bold; border-bottom: 2px solid #ff5722;}
        
        .instruction-box {
            background-color: #333; padding: 25px 20px; 
            border-radius: 15px; border: 2px solid #555; margin-bottom: 30px;
        }

        .divider { border: 0; height: 2px; background: #555; margin: 30px 0; }

        .instruction-img {
            max-width: 80%; height: auto;
            margin: 15px auto 10px auto;
            border-radius: 12px;
            border: 3px solid #ffeb3b; 
            display: block;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }

        #enter-button { 
            display: block; width: 100%; padding: 25px 0;
            font-size: 2rem; font-weight: bold;
            background-color: #4CAF50; color: white; 
            border: none; border-radius: 50px; 
            box-shadow: 0 5px 15px rgba(0,255,0,0.3);
            cursor: pointer; animation: pulse 2s infinite;
        }

        /* --- 1ë‹¨ê³„ ì¬ìƒ ë²„íŠ¼ ìŠ¤íƒ€ì¼ --- */
        .play-circle {
            width: 120px; height: 120px;
            background-color: #ffeb3b; /* ë…¸ë€ìƒ‰ ë°°ê²½ */
            border-radius: 50%; /* ì›í˜• */
            display: flex; align-items: center; justify-content: center;
            margin: 30px auto; /* ìœ„ì•„ë˜ ê°„ê²© */
            box-shadow: 0 0 30px rgba(255, 235, 59, 0.4); /* ë¹›ë‚˜ëŠ” íš¨ê³¼ */
            animation: pulse 2s infinite;
        }
        
        .play-icon-symbol {
            color: #2c3e50; /* ì•„ì´ì½˜ ìƒ‰ìƒ (ë°°ê²½ê³¼ ëŒ€ë¹„) */
            font-size: 4rem; 
            margin-left: 10px; /* ì¬ìƒ ì‚¼ê°í˜• ì‹œê° ë³´ì • */
        }
        /* -------------------------------------- */

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); } 
            100% { transform: scale(1); }
        }

        .icon { font-size: 4rem; margin-bottom: 20px; display: block; }
    </style>
</head>
<body>

    <div id="step-1-overlay" onclick="enableAudio()">
        
        <h1>ì†Œë¦¬ í™•ì¸ì„ ìœ„í•´<br>í™”ë©´ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”</h1>
        
        <div class="play-circle">
            <span class="play-icon-symbol">â–¶</span>
        </div>

        <p style="color:#ccc; font-size:1.2rem;">(ì—¬ê¸°ë¥¼ ëˆ„ë¥´ë©´ ì†Œë¦¬ê°€ ì¬ìƒë©ë‹ˆë‹¤)</p>

    </div>

    <div id="step-2-content">
        <span class="icon">ğŸµ</span>
        <h1>ì§€ê¸ˆ ìŒì•…ì„<br>ì¬ìƒ ì¤‘ì…ë‹ˆë‹¤.</h1>
        <p style="font-size: 1.2rem; color: #ff9800; font-weight: bold; margin-bottom: 30px;">
            ì†Œë¦¬ê°€ ì‘ê±°ë‚˜ ì•ˆ ë“¤ë¦¬ì‹œëŠ” ë¶„ë“¤ì€<br>ì•„ë˜ ì•ˆë‚´ì— ë”°ë¼ì£¼ì„¸ìš”
        </p>
        
        <div class="instruction-box">
            <p>
                ğŸ“± <strong>ìŠ¤ë§ˆíŠ¸í°ìœ¼ë¡œ ì ‘ì†í•˜ì‹  ë¶„ë“¤</strong><br>
                ì˜†ë©´ì˜ <span class="highlight">ë³¼ë¥¨ ë²„íŠ¼(ğŸ”Š)ì„ ëˆŒëŸ¬ì„œ</span><br>
                ì†Œë¦¬ë¥¼ ë†’ì—¬ì£¼ì„¸ìš”.
            </p>
            <img src="ìŠ¤ë§ˆíŠ¸í° ë³¼ë¥¨ë²„íŠ¼ ì•ˆë‚´.png" 
                 alt="ìŠ¤ë§ˆíŠ¸í° ë³¼ë¥¨ ë²„íŠ¼ ìœ„ì¹˜" class="instruction-img">

            <hr class="divider">

            <p>
                ğŸ’» <strong>ì»´í“¨í„°ë¡œ ì ‘ì†í•˜ì‹  ë¶„ë“¤</strong><br>
                ìš°ì¸¡í•˜ë‹¨ <span class="highlight">ìœˆë„ìš° ë³¼ë¥¨ ì•„ì´ì½˜</span>ì„ ëˆŒëŸ¬<br>
                ì†Œë¦¬ë¥¼ ë†’ì—¬ì£¼ì„¸ìš”.
            </p>
            <img src="ìœˆë„ìš° ë³¼ë¥¨ì¡°ì ˆ.jpg" 
                 alt="ì»´í“¨í„° ìœˆë„ìš° ë³¼ë¥¨ ì¡°ì ˆ ìœ„ì¹˜" class="instruction-img">
        </div>

        <p style="font-size: 1.3rem; color: #fff; font-weight: bold; margin: 20px 0 15px 0; background-color: #222; padding: 10px; border-radius: 10px;">
            ğŸ‘‡ ì†Œë¦¬ê°€ ì˜ ë“¤ë¦¬ë©´ ì•„ë˜ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”
        </p>

        <button id="enter-button" onclick="enterRoom()">
            íšŒì˜ì— ì…ì¥í•˜ê¸° ğŸšª
        </button>
    </div>

    <audio id="test-audio" src="test.mp3" preload="auto" loop></audio>

    <script>
        const JITSI_SERVER = "https://meet.jit.si/"; 
        const audio = document.getElementById('test-audio');

        function enableAudio() {
            audio.play().then(() => {
                document.getElementById('step-1-overlay').style.display = 'none';
                document.getElementById('step-2-content').style.display = 'block';
            }).catch(error => {
                console.log("ì¬ìƒ ì‹¤íŒ¨:", error);
                alert("ì£„ì†¡í•©ë‹ˆë‹¤. ì†Œë¦¬ ì¬ìƒì„ ìœ„í•´ í™”ë©´ì„ í•œ ë²ˆ ë” ëˆŒëŸ¬ì£¼ì„¸ìš”.");
            });
        }

        function enterRoom() {
            const urlParams = new URLSearchParams(window.location.search);
            const roomName = urlParams.get('room');

            if (!roomName) {
                alert("ì ‘ì† ì£¼ì†Œê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.\n(ë°© ì´ë¦„ room íŒŒë¼ë¯¸í„° ëˆ„ë½)");
                return;
            }

            audio.pause();
            
            // [ìˆ˜ì •ëœ ë¶€ë¶„]
            // #config.disableDeepLinking=true ë¥¼ ì¶”ê°€í•˜ì—¬ 
            // ì•± ì‹¤í–‰ì„ ë§‰ê³  ë¸Œë¼ìš°ì €ì—ì„œ íšŒì˜ë¥¼ ê°•ì œ ì‹¤í–‰í•©ë‹ˆë‹¤.
            window.location.href = JITSI_SERVER + roomName + '#config.disableDeepLinking=true';
        }
    </script>
</body>
</html>
